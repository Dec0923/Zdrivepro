

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.app.mapper.MusicMapper">
  <resultMap id="musicMap" type="com.example.app.domain.MusicInfo">
    <id column="id" property="id"/>
    <result column="title" property="title"/>
    <result column="artist" property="artist"/>
    <result column="songkey" property="songkey"/>
    <result column="bpm" property="bpm"/>
    <result column="memo" property="memo"/>
  </resultMap>
  <select id="selectMusic" resultMap="musicMap">
  <![CDATA[
    SELECT * FROM songs
    WHERE songkey LIKE CONCAT('%', #{songkey}, '%')
    AND bpm >= #{from} AND bpm <= #{to}
  ]]>
  </select>

  <insert id="addMusicInfo" parameterType="com.example.app.domain.MusicInfo">
    INSERT INTO songs (title, artist, songkey, bpm, memo)
    VALUES (#{title}, #{artist}, #{songkey}, #{bpm}, #{memo})
  </insert>
  
  <delete id="deleteMusicById" parameterType="int">
  DELTE FROM songs WHERE id=#{id}
  </delete>
</mapper>
